#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
版本信息文件
"""
VERSION = "V0.9.5"

VERSION_HISTORY = [
    {
        "version": "V0.9.5",
        "date": "2026-01-04",
        "changes": [
            "修改了项目中部分具有争议词汇替换为中性、合规的表述，详见[争议词汇修改落地实施文档](archive\争议词汇修改落地实施文档.md).md",
            "修复了单独删除商品结果无效的问题",
            "修复了任务运行中，通知没有检查通知渠道是否开启通知的问题，现在自动通知发送前会检查渠道是否开启通知，任务过程中关闭或开启通知渠道都能正确的通知了",
            "修复了自动触发发送的企业微信群机器人图文消息会出现标题，价格时间等文案信息不对的情况",
            "添加了完成任务后会推送一条通知消息到通知渠道",
            "修复了没有手动任务在结束任务后没有更新任务状态的bug，这个bug会导致任务面板上看到的任务一直是在执行中，但是后台任务已经其实结束了",
            "添加了测试任务完成通知按钮",
            "现在通知配置和系统设置的Switch开关都能自动保存设置了",   
            "优化了筛选框的文字显示去除了没必要的后缀提高了可读性",  
            "优化了单独删除卡片时会删除错误的卡片的问题"  

        ]
    }
]





VERSION_HISTORY = [
    {
        "version": "V0.9.2",
        "date": "2026-01-02",
        "changes": [
            "优化了通知模板尽量满足图文通知需求",
            "添加数据筛滤机制，解决部分情况下前端按钮卡死问题",
            "对自动登录程序添加追踪与限制，避免重复触发占用资源",
            "优化修改了部分文案"
            "添加了渠道通知开关"                
        ]
    }
]





VERSION_HISTORY = [
    {
        "version": "V0.9.0",
        "date": "2026-01-01",
        "changes": [
            "元旦快乐",
            "添加了自动获取cookie登录按钮，优化了login.py的登录逻辑",
            "在搜索结果添加了手动搜索，并且能高光显示搜索匹配内容",
            "优化了管理界面的UI视觉效果，现在更好看了",
            "添加了版本号，与docker版本号接轨",
            "优化了start_web_server.bat的字体颜色和添加了版本号，引导更清晰了",
            "优化了微信群机器人等渠道通知逻辑：如果选择了发送手机连接则微信群机器人不发送电脑端链接",
            "商品卡如果没有整理到图片则选择默认logo",
            "卖家名字过长的分行到第二行，避免挤压到发送通知",            
            "修改了scraper.py和ai_handler.py里的冗余通知代码，通知全部转移到专用的notifier里"                
        ]
    }
]

# 获取当前版本
def get_current_version():
    """获取当前版本号"""
    return VERSION

# 获取当前版本信息
def get_current_version_info():
    """获取当前版本的详细信息"""
    for version_info in VERSION_HISTORY:
        if version_info["version"] == VERSION:
            return version_info
    return None
